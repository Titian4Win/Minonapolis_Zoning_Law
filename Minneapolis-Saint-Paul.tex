% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\usepackage{booktabs}
\usepackage{siunitx}

  \newcolumntype{d}{S[
    input-open-uncertainty=,
    input-close-uncertainty=,
    parse-numbers = false,
    table-align-text-pre=false,
    table-align-text-post=false
  ]}
  
\usepackage{longtable}
\usepackage{array}
\usepackage{multirow}
\usepackage{wrapfig}
\usepackage{float}
\usepackage{colortbl}
\usepackage{pdflscape}
\usepackage{tabu}
\usepackage{threeparttable}
\usepackage{threeparttablex}
\usepackage[normalem]{ulem}
\usepackage{makecell}
\usepackage{xcolor}
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Minneapolis Saint Paul},
  pdfauthor={Andrew Bradbury},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{Minneapolis Saint Paul}
\author{Andrew Bradbury}
\date{2023-03-04}

\begin{document}
\maketitle

\hypertarget{r-markdown}{%
\subsection{R Markdown}\label{r-markdown}}

\hypertarget{i-find-that-banning-single-family-zoning-laws-costs-33272-smaller-than-for-minneapolis-than-saint-paul.-zoning-laws-increase-housing-values.}{%
\subparagraph{I find that banning single-family zoning laws costs
\$33,272 smaller than for Minneapolis than Saint Paul. Zoning laws
increase housing
values.}\label{i-find-that-banning-single-family-zoning-laws-costs-33272-smaller-than-for-minneapolis-than-saint-paul.-zoning-laws-increase-housing-values.}}

\hypertarget{when-zoning-laws-are-taken-away-theres-a-drop-in-housing-prices-because-theres-an-increase-in-the-supply-of-available-units.}{%
\subparagraph{When zoning laws are taken away, there's a drop in housing
prices because there's an increase in the supply of available
units.}\label{when-zoning-laws-are-taken-away-theres-a-drop-in-housing-prices-because-theres-an-increase-in-the-supply-of-available-units.}}

\hypertarget{i-examine-the-effect-of-banning-single-family-zoning-laws-within-minneapolis.}{%
\subparagraph{I examine the effect of banning single-family zoning laws
within
Minneapolis.}\label{i-examine-the-effect-of-banning-single-family-zoning-laws-within-minneapolis.}}

\hypertarget{in-december-2018-minneapolis-approved-a-housing-plan-minneapolis-2040-where-70-of-the-citys-land-will-be-banned-from-single-family-zoning-laws.}{%
\subparagraph{In December 2018, Minneapolis approved a housing plan,
Minneapolis 2040, where 70\% of the city's land will be banned from
single-family zoning
laws.}\label{in-december-2018-minneapolis-approved-a-housing-plan-minneapolis-2040-where-70-of-the-citys-land-will-be-banned-from-single-family-zoning-laws.}}

\hypertarget{the-town-approved-building-non-single-family-homes-in-january-2020.-i-compared-minneapolis-to-a-neighboring-city-saint-paul-from-2016-2021.}{%
\subparagraph{The town approved building non-single-family homes in
January 2020. I compared Minneapolis to a neighboring city, Saint Paul,
from
2016-2021.}\label{the-town-approved-building-non-single-family-homes-in-january-2020.-i-compared-minneapolis-to-a-neighboring-city-saint-paul-from-2016-2021.}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{setwd}\NormalTok{(}\StringTok{\textquotesingle{}/Users/andrewscpu/Desktop/here/Minneapolis Saint Paul\textquotesingle{}}\NormalTok{)}
\CommentTok{\#install packages}
\CommentTok{\#install.packages("dplyr")}
\CommentTok{\#install.packages("readr")}
\CommentTok{\#install.packages("tidyverse")}
\CommentTok{\#install.packages("modelsummary")}
\CommentTok{\#install.packages("fixest")}
\CommentTok{\#install.packages("foreign")}
\CommentTok{\#install.packages("lubridate")}
\CommentTok{\#install.packages("AER")}
\CommentTok{\#install.packages("stargazer")}
\CommentTok{\#install.packages("zoo")}
\CommentTok{\#install.packages("ggplot2")}
\CommentTok{\#install.packages("readr")}
\CommentTok{\#install.packages("data.table")}
\CommentTok{\#install.packages("skimr")}
\CommentTok{\#install.packages("scales")}
\CommentTok{\#install.packages("Ecdat")}
\CommentTok{\#library(Ecdat)}
\FunctionTok{library}\NormalTok{(skimr)}
\FunctionTok{library}\NormalTok{(scales)}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(modelsummary)}
\FunctionTok{library}\NormalTok{(AER)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Loading required package: car
\end{verbatim}

\begin{verbatim}
## Loading required package: carData
\end{verbatim}

\begin{verbatim}
## Loading required package: lmtest
\end{verbatim}

\begin{verbatim}
## Loading required package: zoo
\end{verbatim}

\begin{verbatim}
## 
## Attaching package: 'zoo'
\end{verbatim}

\begin{verbatim}
## The following objects are masked from 'package:base':
## 
##     as.Date, as.Date.numeric
\end{verbatim}

\begin{verbatim}
## Loading required package: sandwich
\end{verbatim}

\begin{verbatim}
## Loading required package: survival
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(stargazer)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Please cite as:
\end{verbatim}

\begin{verbatim}
##  Hlavac, Marek (2022). stargazer: Well-Formatted Regression and Summary Statistics Tables.
\end{verbatim}

\begin{verbatim}
##  R package version 5.2.3. https://CRAN.R-project.org/package=stargazer
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(fixest)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Attaching package: 'fixest'
\end{verbatim}

\begin{verbatim}
## The following object is masked from 'package:scales':
## 
##     pvalue
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(dplyr)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Attaching package: 'dplyr'
\end{verbatim}

\begin{verbatim}
## The following object is masked from 'package:car':
## 
##     recode
\end{verbatim}

\begin{verbatim}
## The following objects are masked from 'package:stats':
## 
##     filter, lag
\end{verbatim}

\begin{verbatim}
## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(readr)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Attaching package: 'readr'
\end{verbatim}

\begin{verbatim}
## The following object is masked from 'package:scales':
## 
##     col_factor
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(tidyverse)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## -- Attaching packages --------------------------------------- tidyverse 1.3.2 --
\end{verbatim}

\begin{verbatim}
## v tibble  3.1.8     v stringr 1.5.0
## v tidyr   1.2.1     v forcats 0.5.2
## v purrr   0.3.5     
## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x readr::col_factor() masks scales::col_factor()
## x purrr::discard()    masks scales::discard()
## x dplyr::filter()     masks stats::filter()
## x dplyr::lag()        masks stats::lag()
## x dplyr::recode()     masks car::recode()
## x purrr::some()       masks car::some()
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(foreign)}
\FunctionTok{library}\NormalTok{(lubridate)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Loading required package: timechange
## 
## Attaching package: 'lubridate'
## 
## The following objects are masked from 'package:base':
## 
##     date, intersect, setdiff, union
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(zoo)}
\FunctionTok{library}\NormalTok{(readr)}
\FunctionTok{library}\NormalTok{(data.table)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Attaching package: 'data.table'
## 
## The following objects are masked from 'package:lubridate':
## 
##     hour, isoweek, mday, minute, month, quarter, second, wday, week,
##     yday, year
## 
## The following object is masked from 'package:purrr':
## 
##     transpose
## 
## The following objects are masked from 'package:dplyr':
## 
##     between, first, last
\end{verbatim}

Filter \& Name Cities

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Minneapolis\_Saint\_Paul }\OtherTok{\textless{}{-}} \FunctionTok{fread}\NormalTok{(}\StringTok{"/Users/andrewscpu/Desktop/here/Minneapolis Saint Paul/Minneapolis\_Saint\_Paul.csv"}\NormalTok{)}
\FunctionTok{str}\NormalTok{(Minneapolis\_Saint\_Paul)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Classes 'data.table' and 'data.frame':   46534 obs. of  7 variables:
##  $ tot_purch_amt : num  153000 192000 276500 256000 329000 ...
##  $ sale_month    : int  4 10 10 10 10 10 10 10 10 10 ...
##  $ cty_twnshp_nme: chr  "St. Paul" "St. Paul" "Minneapolis" "Minneapolis" ...
##  $ crv_nbr       : int  544001 554748 568613 570199 571677 571683 571693 571697 571704 571706 ...
##  $ df.sale_year  : int  2017 2016 2016 2016 2016 2016 2016 2016 2016 2016 ...
##  $ dates         : IDate, format: "2017-05-16" "2016-10-26" ...
##  $ quarter       : chr  "Q2-2017" "Q4-2016" "Q1-2017" "Q4-2016" ...
##  - attr(*, ".internal.selfref")=<externalptr>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Saint\_Paul }\OtherTok{=} \FunctionTok{filter}\NormalTok{ (Minneapolis\_Saint\_Paul, cty\_twnshp\_nme }\SpecialCharTok{==} \StringTok{"St. Paul"}\NormalTok{)}
\NormalTok{Minneapolis }\OtherTok{=} \FunctionTok{filter}\NormalTok{(Minneapolis\_Saint\_Paul,cty\_twnshp\_nme }\SpecialCharTok{==} \StringTok{"Minneapolis"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Workable year and quarter format

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Minneapolis}\SpecialCharTok{$}\NormalTok{dates }\OtherTok{\textless{}{-}} \FunctionTok{as.yearqtr}\NormalTok{(Minneapolis}\SpecialCharTok{$}\NormalTok{dates, }\AttributeTok{format =} \StringTok{"\%Y{-}Q\%"}\NormalTok{) }
\NormalTok{Saint\_Paul}\SpecialCharTok{$}\NormalTok{dates }\OtherTok{\textless{}{-}} \FunctionTok{as.yearqtr}\NormalTok{(Saint\_Paul}\SpecialCharTok{$}\NormalTok{dates, }\AttributeTok{format =} \StringTok{"\%Y{-}Q\%"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Cap Sales Amount at two standard deviations away from the mean,
\$1,550,045

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Minneapolis}\SpecialCharTok{$}\NormalTok{tot\_purch\_amt }\OtherTok{=} \FunctionTok{pmin}\NormalTok{(Minneapolis}\SpecialCharTok{$}\NormalTok{tot\_purch\_amt, }\DecValTok{1550045}\NormalTok{)}
\NormalTok{Saint\_Paul}\SpecialCharTok{$}\NormalTok{tot\_purch\_amt }\OtherTok{=} \FunctionTok{pmin}\NormalTok{(Saint\_Paul}\SpecialCharTok{$}\NormalTok{tot\_purch\_amt, }\DecValTok{1550045}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Create quarterly aggregate means

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{aggregated\_data\_M}\OtherTok{=}\FunctionTok{aggregate}\NormalTok{(Minneapolis}\SpecialCharTok{$}\NormalTok{tot\_purch\_amt,}\AttributeTok{by=}\FunctionTok{list}\NormalTok{(Minneapolis}\SpecialCharTok{$}\NormalTok{dates),}\AttributeTok{FUN=}\NormalTok{ mean)}
\NormalTok{aggregated\_data\_SP}\OtherTok{=}\FunctionTok{aggregate}\NormalTok{(Saint\_Paul}\SpecialCharTok{$}\NormalTok{tot\_purch\_amt,}\AttributeTok{by=}\FunctionTok{list}\NormalTok{(Saint\_Paul}\SpecialCharTok{$}\NormalTok{dates), }\AttributeTok{FUN=}\NormalTok{ mean)}
\NormalTok{aggregated\_data\_SPM }\OtherTok{=}\FunctionTok{aggregate}\NormalTok{(Minneapolis\_Saint\_Paul}\SpecialCharTok{$}\NormalTok{tot\_purch\_amt,}\AttributeTok{by=}\FunctionTok{list}\NormalTok{(Minneapolis\_Saint\_Paul}\SpecialCharTok{$}\NormalTok{dates), }\AttributeTok{FUN=}\NormalTok{ mean)}
\end{Highlighting}
\end{Shaded}

Graph of Minneapolis

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{head}\NormalTok{(aggregated\_data\_M)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   Group.1        x
## 1 2016 Q4 293878.4
## 2 2017 Q1 350796.5
## 3 2017 Q2 310442.3
## 4 2017 Q3 306332.2
## 5 2017 Q4 330474.7
## 6 2018 Q1 721633.0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{head}\NormalTok{(aggregated\_data\_SP)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   Group.1        x
## 1 2016 Q4 213343.4
## 2 2017 Q1 235127.5
## 3 2017 Q2 217627.9
## 4 2017 Q3 263039.5
## 5 2017 Q4 258295.3
## 6 2018 Q1 247742.9
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{colnames}\NormalTok{(aggregated\_data\_M)[}\DecValTok{2}\NormalTok{] }\OtherTok{=}\StringTok{"M"}
\FunctionTok{colnames}\NormalTok{(aggregated\_data\_SP)[}\DecValTok{2}\NormalTok{] }\OtherTok{=}\StringTok{"SP"}
\NormalTok{MSP }\OtherTok{\textless{}{-}} \FunctionTok{merge}\NormalTok{(aggregated\_data\_M,aggregated\_data\_SP,}\AttributeTok{by=}\StringTok{"Group.1"}\NormalTok{) }
\NormalTok{p }\OtherTok{=} \FunctionTok{ggplot}\NormalTok{(aggregated\_data\_M, }\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{Group}\FloatTok{.1}\NormalTok{, }\AttributeTok{y=}\NormalTok{ M), }\AttributeTok{colour =}\NormalTok{ genus) }\SpecialCharTok{+} 
  \FunctionTok{geom\_point}\NormalTok{()}\SpecialCharTok{+}\FunctionTok{theme}\NormalTok{(}\AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{angle =} \DecValTok{90}\NormalTok{, }\AttributeTok{vjust =} \FloatTok{0.5}\NormalTok{))}\SpecialCharTok{+}\FunctionTok{geom\_line}\NormalTok{(}\AttributeTok{linetype =} \StringTok{"dashed"}\NormalTok{)}\SpecialCharTok{+} \FunctionTok{geom\_line}\NormalTok{(}\AttributeTok{color=}\StringTok{"red"}\NormalTok{)}\SpecialCharTok{+} \FunctionTok{labs}\NormalTok{(}\AttributeTok{title =} \StringTok{"Minneapolis"}\NormalTok{, }\AttributeTok{x =} \StringTok{"Year"}\NormalTok{, }\AttributeTok{y =} \StringTok{"Mean Transactions Price"}\NormalTok{)}\SpecialCharTok{+}\FunctionTok{scale\_y\_continuous}\NormalTok{(}\AttributeTok{labels =} \FunctionTok{label\_number}\NormalTok{(}\AttributeTok{suffix =} \StringTok{"M"}\NormalTok{, }\AttributeTok{scale =} \FloatTok{1e{-}6}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

Graph of Saint Paul

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p }\OtherTok{=}\NormalTok{ p }\SpecialCharTok{+} \FunctionTok{geom\_point}\NormalTok{()}
\FunctionTok{plot}\NormalTok{(p)}
\end{Highlighting}
\end{Shaded}

\includegraphics{Minneapolis-Saint-Paul_files/figure-latex/unnamed-chunk-7-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p }\OtherTok{=} \FunctionTok{ggplot}\NormalTok{(aggregated\_data\_SP, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{Group}\FloatTok{.1}\NormalTok{, }\AttributeTok{y=}\NormalTok{ SP), }\AttributeTok{colour =}\NormalTok{ genus) }\SpecialCharTok{+} 
  \FunctionTok{geom\_point}\NormalTok{()}\SpecialCharTok{+}\FunctionTok{theme}\NormalTok{(}\AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{angle =} \DecValTok{90}\NormalTok{, }\AttributeTok{vjust =} \FloatTok{0.5}\NormalTok{))}\SpecialCharTok{+}\FunctionTok{geom\_line}\NormalTok{(}\AttributeTok{linetype =} \StringTok{"dashed"}\NormalTok{)}\SpecialCharTok{+} \FunctionTok{geom\_line}\NormalTok{(}\AttributeTok{color=}\StringTok{"blue"}\NormalTok{)}\SpecialCharTok{+} \FunctionTok{labs}\NormalTok{(}\AttributeTok{title =} \StringTok{"Saint Paul"}\NormalTok{, }\AttributeTok{x =} \StringTok{"Year"}\NormalTok{, }\AttributeTok{y =} \StringTok{"Mean Transactions Price"}\NormalTok{)}\SpecialCharTok{+}\FunctionTok{scale\_y\_continuous}\NormalTok{(}\AttributeTok{labels =} \FunctionTok{label\_number}\NormalTok{(}\AttributeTok{suffix =} \StringTok{"M"}\NormalTok{, }\AttributeTok{scale =} \FloatTok{1e{-}6}\NormalTok{))}
\NormalTok{p }\OtherTok{=}\NormalTok{ p }\SpecialCharTok{+} \FunctionTok{geom\_point}\NormalTok{()}
\FunctionTok{plot}\NormalTok{(p)}
\end{Highlighting}
\end{Shaded}

\includegraphics{Minneapolis-Saint-Paul_files/figure-latex/unnamed-chunk-7-2.pdf}
\#\#\#\#\#\# Summary Statistics

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{skim}\NormalTok{(aggregated\_data\_M)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: Couldn't find skimmers for class: yearqtr; No user-defined `sfl`
## provided. Falling back to `character`.
\end{verbatim}

\begin{longtable}[]{@{}ll@{}}
\caption{Data summary}\tabularnewline
\toprule()
\endhead
Name & aggregated\_data\_M \\
Number of rows & 21 \\
Number of columns & 2 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Column type frequency: & \\
character & 1 \\
numeric & 1 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Group variables & None \\
\bottomrule()
\end{longtable}

\textbf{Variable type: character}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1944}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1389}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1944}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0556}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0556}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0833}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1250}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1528}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
min
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
max
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
empty
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_unique
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
whitespace
\end{minipage} \\
\midrule()
\endhead
Group.1 & 0 & 1 & 4 & 7 & 0 & 21 & 0 \\
\bottomrule()
\end{longtable}

\textbf{Variable type: numeric}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1308}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0935}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1308}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0841}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0841}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0841}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0841}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0841}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0841}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0841}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0561}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
mean
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
sd
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p0
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p25
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p50
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p75
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p100
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
hist
\end{minipage} \\
\midrule()
\endhead
M & 0 & 1 & 394504.9 & 135901.7 & 293878.4 & 332873.6 & 350954.5 &
385809.2 & 849892.1 & ▇▁▁▁▁ \\
\bottomrule()
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{skim}\NormalTok{(aggregated\_data\_SP)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: Couldn't find skimmers for class: yearqtr; No user-defined `sfl`
## provided. Falling back to `character`.
\end{verbatim}

\begin{longtable}[]{@{}ll@{}}
\caption{Data summary}\tabularnewline
\toprule()
\endhead
Name & aggregated\_data\_SP \\
Number of rows & 21 \\
Number of columns & 2 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Column type frequency: & \\
character & 1 \\
numeric & 1 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Group variables & None \\
\bottomrule()
\end{longtable}

\textbf{Variable type: character}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1944}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1389}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1944}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0556}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0556}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.0833}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1250}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 14\tabcolsep) * \real{0.1528}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
min
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
max
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
empty
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_unique
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
whitespace
\end{minipage} \\
\midrule()
\endhead
Group.1 & 0 & 1 & 4 & 7 & 0 & 21 & 0 \\
\bottomrule()
\end{longtable}

\textbf{Variable type: numeric}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1308}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0935}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1308}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0841}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0841}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0841}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0841}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0841}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0841}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0841}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0561}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
mean
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
sd
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p0
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p25
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p50
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p75
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p100
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
hist
\end{minipage} \\
\midrule()
\endhead
SP & 0 & 1 & 281018.3 & 47901.95 & 213343.4 & 252611.4 & 280764.9 &
294528.6 & 430698.6 & ▅▇▂▁▁ \\
\bottomrule()
\end{longtable}

New file with converted dates, not shown

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Book1 }\OtherTok{\textless{}{-}} \FunctionTok{fread}\NormalTok{(}\StringTok{"/Users/andrewscpu/Desktop/here/Minneapolis Saint Paul/Book1.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Treatment period from 2019-2021 (Period after announcement)

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Book1 }\OtherTok{\textless{}{-}}\NormalTok{ Book1 }\SpecialCharTok{\%\textgreater{}\%}
    \FunctionTok{mutate}\NormalTok{(}\AttributeTok{Treated =}\NormalTok{ cty\_twnshp\_name }\SpecialCharTok{==} \StringTok{\textquotesingle{}M\textquotesingle{}} \SpecialCharTok{\&} 
\NormalTok{           quarter }\SpecialCharTok{\%in\%} \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}2019 Q1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2019 Q2\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2019 Q3\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2019 Q4\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020 Q1\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020 Q2\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020 Q2\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020 Q3\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2020 Q4\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2021 Q1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2021 Q2\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2021 Q3\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2021 Q4\textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

Estimate the regression with fixed effcets by state and quarter

The estimate for banning single-family zoning laws was \$33,272.15

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{res\_1 }\OtherTok{=}\NormalTok{ clfe }\OtherTok{\textless{}{-}} \FunctionTok{feols}\NormalTok{(tot\_purch\_amt }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Treated }\SpecialCharTok{|}\NormalTok{ cty\_twnshp\_name }\SpecialCharTok{+}\NormalTok{ quarter, Book1)}
\FunctionTok{msummary}\NormalTok{(clfe, }\AttributeTok{stars =} \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}*\textquotesingle{}} \OtherTok{=}\NormalTok{ .}\DecValTok{1}\NormalTok{, }\StringTok{\textquotesingle{}**\textquotesingle{}} \OtherTok{=}\NormalTok{ .}\DecValTok{05}\NormalTok{, }\StringTok{\textquotesingle{}***\textquotesingle{}} \OtherTok{=}\NormalTok{ .}\DecValTok{01}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in !is.null(rmarkdown::metadata$output) && rmarkdown::metadata$output
## %in% : 'length(x) = 2 > 1' in coercion to 'logical(1)'
\end{verbatim}

\begin{table}
\centering
\begin{tabular}[t]{lc}
\toprule
  & Model 1\\
\midrule
TreatedTRUE & \num{-33272.149}***\\
 & (\num{3e-11})\\
\midrule
Num.Obs. & \num{42}\\
R2 & \num{0.799}\\
R2 Adj. & \num{0.566}\\
R2 Within & \num{0.135}\\
R2 Within Adj. & \num{0.089}\\
RMSE & \num{20870.56}\\
Std.Errors & by: cty\_twnshp\_name\\
FE: cty\_twnshp\_name & X\\
FE: quarter & X\\
\bottomrule
\multicolumn{2}{l}{\rule{0pt}{1em}* p $<$ 0.1, ** p $<$ 0.05, *** p $<$ 0.01}\\
\end{tabular}
\end{table}

Use only Pretreatment data (before announcement) (placebo tests)

Shows the placebo tests that happen in the two quarters leading up to
the policy change.

Placebo test with a fake treatment one that represents the interaction
between Q2 2018 and Q3 2018, which passes the placebo test and shows
that results hold at the five percent level.

Fake treatment two represents the transaction just in Q3 2018. The
results of this period were insignificant

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{filter}\NormalTok{(Book1, quarter }\SpecialCharTok{\textgreater{}=}\NormalTok{ quarter }\SpecialCharTok{\%in\%} \FunctionTok{c}\NormalTok{(}\StringTok{"2015 Q2"}\NormalTok{), quarter }\SpecialCharTok{\%in\%} \FunctionTok{c}\NormalTok{(}\StringTok{"2017 Q2"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Empty data.table (0 rows and 4 cols): cty_twnshp_name,quarter,tot_purch_amt,Treated
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Book1 }\OtherTok{\textless{}{-}}\NormalTok{ Book1 }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{FakeTreat1 =}\NormalTok{ cty\_twnshp\_name }\SpecialCharTok{==} \StringTok{"M"} \SpecialCharTok{\&}
\NormalTok{           quarter }\SpecialCharTok{\%in\%} \FunctionTok{c}\NormalTok{ (}\StringTok{\textquotesingle{}2018 Q2\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2018 Q3\textquotesingle{}}\NormalTok{),}
         \AttributeTok{FakeTreat2 =}\NormalTok{ cty\_twnshp\_name }\SpecialCharTok{==} \StringTok{"M"} \SpecialCharTok{\&}
\NormalTok{           quarter }\SpecialCharTok{==} \StringTok{\textquotesingle{}2018 Q3\textquotesingle{}}\NormalTok{)}
\CommentTok{\# Run the same model we did before but with out fake treatment}
\NormalTok{clfel }\OtherTok{\textless{}{-}} \FunctionTok{feols}\NormalTok{(tot\_purch\_amt }\SpecialCharTok{\textasciitilde{}}\NormalTok{ FakeTreat1,}
               \AttributeTok{data =}\NormalTok{ Book1)}
\NormalTok{clfe2 }\OtherTok{\textless{}{-}} \FunctionTok{feols}\NormalTok{(tot\_purch\_amt }\SpecialCharTok{\textasciitilde{}}\NormalTok{ FakeTreat2,}
               \AttributeTok{data =}\NormalTok{ Book1)}
\FunctionTok{msummary}\NormalTok{(}\FunctionTok{list}\NormalTok{(clfel,clfe2), }\AttributeTok{stars =} \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}*\textquotesingle{}} \OtherTok{=}\NormalTok{ .}\DecValTok{1}\NormalTok{, }\StringTok{\textquotesingle{}**\textquotesingle{}} \OtherTok{=}\NormalTok{ .}\DecValTok{05}\NormalTok{, }\StringTok{\textquotesingle{}***\textquotesingle{}} \OtherTok{=}\NormalTok{.}\DecValTok{01}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{table}
\centering
\begin{tabular}[t]{lcc}
\toprule
  & Model 1 & Model 2\\
\midrule
(Intercept) & \num{281825.880}*** & \num{285055.175}***\\
 & (\num{7117.243}) & (\num{7440.852})\\
FakeTreat1TRUE & \num{71779.216}** & \\
 & (\num{32615.303}) & \\
FakeTreat2TRUE &  & \num{7928.048}\\
 &  & (\num{48222.231})\\
\midrule
Num.Obs. & \num{42} & \num{42}\\
R2 & \num{0.108} & \num{0.0007}\\
R2 Adj. & \num{0.086} & \num{-0.024}\\
RMSE & \num{43928.57} & \num{46496.46}\\
Std.Errors & IID & IID\\
\bottomrule
\multicolumn{3}{l}{\rule{0pt}{1em}* p $<$ 0.1, ** p $<$ 0.05, *** p $<$ 0.01}\\
\end{tabular}
\end{table}

\end{document}
